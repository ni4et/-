<% title="HamSuite: About" %>

<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head'); %>

  <body class="container-md">
    <h3>Select options, radios, contests, and other things.</h3>
    <div class="row">
      <div class="col-lg">
        <% for ( keya in stationSettings) { let vala = stationSettings[keya]; if
        (vala.list) { 
          let selectedOption=cookies['stationSettings_'+keya] ;%>

        <div class="padding mt-2">
          <%=vala.title%>

          <select class="form-select" id=<%-keya%>  aria-label="<%=vala.title %>">
            <% for (const selection of vala.list ) {
              // console.log('o=',selectedOption,'a=',selection.name);
              selString=(selectedOption===selection.name)?' selected':''; %>
            <%# console.log('selString= ',selString);%>
            <option value=<%=selection.name%><%-selString%>> <%=selection.name%></option>

            <% } %>
          </select>
        </div>
        <%}}%>
      </div>
    </div>

<script src="/assets/npm/jquery/dist/jquery.min.js"></script>



 <% for ( keya in stationSettings) { let vala = stationSettings[keya]; if
        (vala.list) { %> 
        <script>
        $("#<%-keya%>").on("input",function(event) {
          
          let tmp='stationSettings_'+"<%-keya%>="+  $(event.target).val()  +";  expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";
          //console.log(tmp);
          document.cookie = tmp;
          fetch('/refreshCookies');
          }  );
        </script>
        <%}}%>










    <!-- The following atributes this as the source: -->
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script -->
    <!-- See: "Embedding data in HTML" 2/3 down the page.-->
<!-- Generated by the server at render time. -->
<script id="stationSettings.data" type="application/json">
<%- JSON.stringify(stationSettings)%>
</script>

<!-- Static -->
<script>
  const stationSettings = JSON.parse(document.getElementById("stationSettings.data").text);
  
</script>


    <%- include('partials/footer'); %>
  </body>
</html>
